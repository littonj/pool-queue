<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Pool Queue</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.1.1/css/bootstrap.min.css">
    <style>
        body {
            padding-top: 50px;
            padding-bottom: 20px;
        }
        [ng-cloak] {
            display: none;
        }
    </style>
    <link rel="stylesheet" href="css/main.css">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.16/angular.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="http://www.parsecdn.com/js/parse-1.2.18.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>

</head>
<body ng-app="poolQueue"  ng-controller="MainController">
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">Pool Queue</a>
            </div>
            <div class="navbar-collapse collapse">

            </div><!--/.navbar-collapse -->
        </div>
    </div>
    <div>
        <!-- Main jumbotron for a primary marketing message or call to action -->
        <div class="jumbotron">
            <div class="container">
                <div class="row">
                    <h1 class="text-center">
                    <span ng-cloak ng-if="queueLength !== undefined"><ng-pluralize count="queueLength"
                                                                                   when="{'0': 'The table is open.',
                         'one': '1 person is ahead of you.',
                         'other': '{} people are ahead of you.'}">
                    </ng-pluralize></span>
                        <span ng-if="queueLength === undefined">Loading people ahead of you</span>
                    </h1>
                </div>
                <br/>

                <div class="row">
                    <form ng-submit="addUser()" role="form">
                        <div class="form-group col-md-8 col-md-offset-2 text-center">
                            <input ng-model="userName" type="text" placeholder="Add your name to the queue" class="form-control" ng-enter>
                        </div>
                    </form>
                </div>

                <div class="row">
                    <h4 ng-if="queueLength" class="text-center">Estimated wait time is: {{queueLength * 10}} minutes</h4>
                </div>
            </div>
        </div>

        <div class="container">

            <div class="row" ng-if="queue" >
                <table ng-cloak class="table table-striped table-hover">
                    <tr>
                        <th class="col-md-2"><h4>#</h4></th>
                        <th class="col-md-8"><h4>Chumps</h4></th>
                        <th class="col-md-2"><h4>Added At</h4></th>
                        <th class="col-md-2"></th>
                    </tr>
                    <tr ng-repeat="item in queue">
                        <td class="col-md-2"><h5>{{$index + 1}}</h5></td>
                        <td class="col-md-8"><h4>{{item.attributes.name}}</h4></td>
                        <td class="col-md-2"><h5>{{item.createdAt | date:'MMM dd @ h:mma'}}</h5></td>
                        <td class="col-md-2 text-right">
                            <button action="removeFromQueue(item)" item="item" confirm-button class="btn btn-default">Remove</button>
                        </td>
                    </tr>
                </table>

            </div>

            <div class="row" ng-if="queue">
                <div class="text-center">
                    <button action="removeAll()" item="" confirm-button class="btn btn-success">Clear Queue</button>
                </div>
            </div>


            <footer>
                <p>&copy; Maytee Chinavanichkit 2014</p>
            </footer>
        </div> <!-- /container -->
        <script type="text/javascript" src="js/poolQueueApp.js"></script>

    </div>
</body>
</html>